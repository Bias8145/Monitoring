<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Monitoring System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            padding: 10px;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 18px;
            margin-bottom: 5px;
        }
        
        .header .subtitle {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }
        
        .nav-tab {
            flex: 1;
            padding: 12px 8px;
            text-align: center;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .nav-tab.active {
            background: #2196F3;
            color: white;
        }
        
        .tab-content {
            display: none;
            padding: 20px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
            font-size: 14px;
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .meter-grid {
            display: grid;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .meter-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
            border-left: 4px solid #2196F3;
        }
        
        .meter-item label {
            font-size: 13px;
            font-weight: 500;
            flex: 1;
        }
        
        .meter-item input {
            width: 80px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
            margin-right: 10px;
        }
        
        .meter-actual {
            font-size: 12px;
            color: #666;
            min-width: 60px;
        }
        
        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #2196F3;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid #e3f2fd;
        }
        
        .btn {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #2196F3;
            color: white;
        }
        
        .btn-primary:hover {
            background: #1976D2;
        }
        
        .btn-success {
            background: #4CAF50;
            color: white;
            margin-top: 10px;
        }
        
        .status-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .status-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border-left: 4px solid #4CAF50;
        }
        
        .status-card h3 {
            font-size: 24px;
            color: #4CAF50;
            margin-bottom: 5px;
        }
        
        .status-card p {
            font-size: 12px;
            color: #666;
        }
        
        .time-input {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .current-time {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .alert {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Water Monitoring System</h1>
            <div class="subtitle" id="currentShift">SHIFT 1 (07:00-15:00) - JAM <span id="currentHour">10:00</span></div>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('dashboard')">HOME</button>
            <button class="nav-tab" onclick="showTab('checklist')">CHECKLIST</button>
            <button class="nav-tab" onclick="showTab('hourly')">HOURLY</button>
            <button class="nav-tab" onclick="showTab('timesheet')">TIME</button>
        </div>
        
        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="current-time">
                <h3 id="liveTime">10:00:00</h3>
                <p>Senin, 4 Agustus 2025</p>
            </div>
            
            <div class="status-grid">
                <div class="status-card">
                    <h3 id="checklistCount">3/6</h3>
                    <p>Checklist Done</p>
                </div>
                <div class="status-card">
                    <h3 id="hourlyCount">10/24</h3>
                    <p>Hourly Done</p>
                </div>
            </div>
            
            <div class="alert">
                <strong>Next Action:</strong> <span id="nextAction">Hourly Monitoring jam 11:00</span>
            </div>
            
            <button class="btn btn-success" onclick="exportToExcel()">📊 EXPORT TO EXCEL</button>
        </div>
        
        <!-- Checklist Tab -->
        <div id="checklist" class="tab-content">
            <div class="section-title">Shift Checklist - Masuk</div>
            
            <div class="form-group">
                <label>1. Kondisi Bak Distribusi Air RO</label>
                <select>
                    <option>Memadai</option>
                    <option>Tidak Memadai</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Ketinggian Bak RO (cm)</label>
                <input type="number" placeholder="85" value="85">
            </div>
            
            <div class="form-group">
                <label>2. Kondisi Bak Input RO dari WWTP</label>
                <select>
                    <option>Memadai</option>
                    <option>Tidak Memadai</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Ketinggian Bak WWTP (cm)</label>
                <input type="number" placeholder="45" value="45">
            </div>
            
            <div class="form-group">
                <label>3. Kondisi Pompa Transfer WWTP → Distribusi</label>
                <select>
                    <option>ON</option>
                    <option>OFF</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>4. Ketinggian Bak Input Air PDAM (cm)</label>
                <input type="number" placeholder="92" value="92">
            </div>
            
            <div class="form-group">
                <label>Angka Meter PDAM</label>
                <input type="number" placeholder="12500" value="12500">
            </div>
            
            <div class="form-group">
                <label>Status Bak PDAM</label>
                <select>
                    <option>Memadai</option>
                    <option>Tidak Memadai</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>5. Supply Air PDAM</label>
                <select>
                    <option>Menyala</option>
                    <option>Mati</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Input Flow PDAM (L/min)</label>
                <input type="number" placeholder="25" value="25">
            </div>
            
            <button class="btn btn-primary" onclick="saveChecklist()">💾 SAVE CHECKLIST</button>
        </div>
        
        <!-- Hourly Tab -->
        <div id="hourly" class="tab-content">
            <div class="section-title">Hourly Monitoring - JAM 10:00</div>
            
            <div class="section-title" style="font-size: 14px; color: #FF9800;">Water Meter - ELEKTRIK</div>
            <div class="meter-grid">
                <div class="meter-item">
                    <label>Blok A,B,C</label>
                    <input type="number" placeholder="12500" id="elektrik_abc">
                    <span class="meter-actual" id="aktual_elektrik_abc">0.045 m³</span>
                </div>
                <div class="meter-item">
                    <label>Blok P & D</label>
                    <input type="number" placeholder="8900" id="elektrik_pd">
                    <span class="meter-actual">0.032 m³</span>
                </div>
                <div class="meter-item">
                    <label>Blok E,F,G</label>
                    <input type="number" placeholder="15600" id="elektrik_efg">
                    <span class="meter-actual">0.067 m³</span>
                </div>
                <div class="meter-item">
                    <label>Blok Aquaria</label>
                    <input type="number" placeholder="3400" id="elektrik_aquaria">
                    <span class="meter-actual">0.012 m³</span>
                </div>
                <div class="meter-item">
                    <label>Meter PDAM</label>
                    <input type="number" placeholder="45600" id="elektrik_pdam">
                    <span class="meter-actual">0.089 m³</span>
                </div>
                <div class="meter-item">
                    <label>Meter WTP</label>
                    <input type="number" placeholder="23400" id="elektrik_wtp">
                    <span class="meter-actual">0.078 m³</span>
                </div>
                <div class="meter-item">
                    <label>Damkar</label>
                    <input type="number" placeholder="1200" id="elektrik_damkar">
                    <span class="meter-actual">0.005 m³</span>
                </div>
                <div class="meter-item">
                    <label>Blok H</label>
                    <input type="number" placeholder="6700" id="elektrik_h">
                    <span class="meter-actual">0.023 m³</span>
                </div>
            </div>
            
            <div class="section-title" style="font-size: 14px; color: #4CAF50;">Water Meter - NON ELEKTRIK</div>
            <div class="meter-grid">
                <div class="meter-item">
                    <label>Blok A,B,C</label>
                    <input type="number" placeholder="8900">
                    <span class="meter-actual">0.025 m³</span>
                </div>
                <div class="meter-item">
                    <label>Blok P & D</label>
                    <input type="number" placeholder="5600">
                    <span class="meter-actual">0.018 m³</span>
                </div>
                <div class="meter-item">
                    <label>Blok E,F,G</label>
                    <input type="number" placeholder="12300">
                    <span class="meter-actual">0.034 m³</span>
                </div>
                <div class="meter-item">
                    <label>Blok Aquaria</label>
                    <input type="number" placeholder="2100">
                    <span class="meter-actual">0.008 m³</span>
                </div>
                <div class="meter-item">
                    <label>Hydran 1</label>
                    <input type="number" placeholder="500">
                    <span class="meter-actual">0.000 m³</span>
                </div>
                <div class="meter-item">
                    <label>Hydran 2</label>
                    <input type="number" placeholder="300">
                    <span class="meter-actual">0.000 m³</span>
                </div>
                <div class="meter-item">
                    <label>Damkar</label>
                    <input type="number" placeholder="800">
                    <span class="meter-actual">0.003 m³</span>
                </div>
                <div class="meter-item">
                    <label>Blok H</label>
                    <input type="number" placeholder="4500">
                    <span class="meter-actual">0.015 m³</span>
                </div>
                <div class="meter-item">
                    <label>WWTP</label>
                    <input type="number" placeholder="18900">
                    <span class="meter-actual">0.045 m³</span>
                </div>
                <div class="meter-item">
                    <label>WWTP A,B,C</label>
                    <input type="number" placeholder="23400">
                    <span class="meter-actual">0.067 m³</span>
                </div>
                <div class="meter-item">
                    <label>WWTP E</label>
                    <input type="number" placeholder="8900">
                    <span class="meter-actual">0.023 m³</span>
                </div>
                <div class="meter-item">
                    <label>WWTP Damkar</label>
                    <input type="number" placeholder="3400">
                    <span class="meter-actual">0.012 m³</span>
                </div>
            </div>
            
            <div class="section-title" style="font-size: 14px; color: #2196F3;">Ketinggian Bak</div>
            <div class="form-group">
                <label>Bak Distribusi RO (cm)</label>
                <input type="number" placeholder="85" value="85">
            </div>
            <div class="form-group">
                <label>Bak Input WWTP (cm)</label>
                <input type="number" placeholder="45" value="45">
            </div>
            <div class="form-group">
                <label>Input Air PDAM (cm)</label>
                <input type="number" placeholder="92" value="92">
            </div>
            
            <button class="btn btn-primary" onclick="saveHourly()">💾 SAVE HOURLY DATA</button>
        </div>
        
        <!-- Timesheet Tab -->
        <div id="timesheet" class="tab-content">
            <div class="section-title">Timesheet - Shift 1</div>
            
            <div class="form-group">
                <label>Jam Masuk</label>
                <div class="time-input">
                    <input type="time" value="07:30">
                    <span style="color: #4CAF50;">✓</span>
                </div>
            </div>
            
            <div class="form-group">
                <label>Jam Pulang</label>
                <div class="time-input">
                    <input type="time" placeholder="--:--">
                    <span style="color: #ccc;">⏳</span>
                </div>
            </div>
            
            <div class="form-group">
                <label>Total Jam Kerja</label>
                <input type="text" value="2.5 jam" readonly style="background: #f8f9fa;">
            </div>
            
            <div class="form-group">
                <label>Catatan (Optional)</label>
                <input type="text" placeholder="Catatan khusus...">
            </div>
            
            <button class="btn btn-primary" onclick="saveTimesheet()">💾 SAVE TIMESHEET</button>
        </div>
    </div>

    <script>
        // Tab switching
        function showTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Remove active class from nav buttons
            const navTabs = document.querySelectorAll('.nav-tab');
            navTabs.forEach(nav => nav.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }
        
        // Live time update
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('id-ID');
            document.getElementById('liveTime').textContent = timeString;
        }
        
        setInterval(updateTime, 1000);
        
        // Save functions
        function saveChecklist() {
            alert('✅ Checklist berhasil disimpan!');
            // Update counter
            document.getElementById('checklistCount').textContent = '4/6';
        }
        
        function saveHourly() {
            alert('✅ Data hourly berhasil disimpan!');
            // Update counter
            document.getElementById('hourlyCount').textContent = '11/24';
            document.getElementById('nextAction').textContent = 'Hourly Monitoring jam 12:00';
        }
        
        function saveTimesheet() {
            alert('✅ Timesheet berhasil disimpan!');
        }
        
        function exportToExcel() {
            // Simulate Excel export
            const now = new Date();
            const filename = `WaterMonitoring_${now.getFullYear()}${(now.getMonth()+1).toString().padStart(2,'0')}${now.getDate().toString().padStart(2,'0')}.xlsx`;
            
            alert(`📊 Export berhasil!\nFile: ${filename}\n\nData yang di-export:\n• Shift Checklist\n• Hourly Elektrik\n• Hourly Non-Elektrik\n• Ketinggian Bak\n• Timesheet`);
        }
        
        // Calculate actual consumption in cubic meters (demo)
        function calculateActual(inputId, actualId, previousValue) {
            const input = document.getElementById(inputId);
            if (input) {
                input.addEventListener('input', function() {
                    const currentValue = parseInt(this.value) || 0;
                    const actualLiters = currentValue - previousValue;
                    const actualCubic = (actualLiters / 1000).toFixed(3); // Convert to m³
                    const actualSpan = document.getElementById(actualId);
                    if (actualSpan) {
                        actualSpan.textContent = actualCubic + ' m³';
                    }
                });
            }
        }
        
        // Initialize demo calculations
        calculateActual('elektrik_abc', 'aktual_elektrik_abc', 12455);
    </script>
</body>
</html>
